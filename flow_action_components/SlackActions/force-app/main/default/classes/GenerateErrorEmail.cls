global inherited sharing class GenerateErrorEmail {

    @InvocableMethod(label='Generate Error Email' description='Generates an Error Email to Admin by throwing an exception' callout=false)
    global static void execute(List<Request> requests) {
        
    

        for (Request curRequest: requests ){
            throw new InvocableActionException('Error was generated by Flow: ' + curRequest.errorText);

        }
    }

    global class InvocableActionException extends Exception{}

    global class Request {
     
        @InvocableVariable
        global String errorText;

        
    
    }

  
}